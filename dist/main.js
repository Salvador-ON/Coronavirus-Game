!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var i=window.Phaser;class r extends i.Physics.Arcade.Sprite{constructor(t,e,s,i){super(t,e,s,i),this.setScale(.7)}}class o extends i.Scene{init(){this.left=0,this.right=0,this.virusCollected=0,this.virusDisplay=0,this.virusCollectedText=this.add.text(240,10,"Coronavirus: 0",{color:"#000",fontSize:24}),this.cursors=this.input.keyboard.createCursorKeys(),this.virus=this.physics.add.group({classType:r})}constructor(){super("game")}preload(){this.cursors=this.input.keyboard.createCursorKeys();const t=this.add.graphics(),e=this.add.graphics();e.fillStyle(2236962,.8),e.fillRect(80,270,320,50);const{width:s}=this.cameras.main,{height:i}=this.cameras.main,r=this.make.text({x:s/2,y:i/2-50,text:"",style:{font:"20px monospace",fill:"#ffffff"}});r.setOrigin(.5,.5);const o=this.make.text({x:s/2,y:i/2-5,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}});o.setOrigin(.5,.5);const a=this.make.text({x:s/2,y:i/2+50,text:"",style:{font:"18px monospace",fill:"#ffffff"}});a.setOrigin(.5,.5),this.load.on("progress",e=>{o.setText(parseInt(100*e,10)+"%"),t.clear(),t.fillStyle(16777215,1),t.fillRect(80,280,300*e,30)}),this.load.on("fileprogress",t=>{a.setText("Loading asset: "+t.src)}),this.load.on("complete",()=>{t.destroy(),e.destroy(),r.destroy(),o.destroy(),a.destroy()}),this.load.image("logo","assets/virus.png"),this.load.image("background","assets/game-background.png"),this.load.image("platform","assets/platformIndustrial_008.png"),this.load.image("bot-stand","assets/character_robot_cheer0.png"),this.load.image("bot-jump","assets/character_robot_cheer1.png"),this.load.image("virus","assets/virus-small.png"),this.load.audio("jump","assets/phaseJump1.ogg"),this.load.image("leftButton","assets/yellow_sliderLeft.png"),this.load.image("rightButton","assets/yellow_sliderRight.png"),this.load.image("block","assets/gameboard.png")}create(){this.add.image(240,320,"background").setScrollFactor(1,0),this.platforms=this.physics.add.staticGroup(),this.platformB=this.physics.add.staticGroup();for(let t=0;t<5;t+=1){const e=i.Math.Between(50,450),s=190*t,r=this.platforms.create(e,s,"platform");r.scale=1;const{body:o}=r;o.updateFromGameObject()}this.platformB.create(240,450,"platform").setScale(1),this.player=this.physics.add.sprite(240,320,"bot-stand").setScale(1),this.player.body.setSize(35,125),this.physics.add.collider(this.platforms,this.player),this.physics.add.collider(this.platformB,this.player),this.player.body.checkCollision.up=!1,this.player.body.checkCollision.left=!1,this.player.body.checkCollision.right=!1,this.cameras.main.startFollow(this.player),this.cameras.main.setDeadzone(1.5*this.scale.width),this.virus=this.physics.add.group({classType:r}),this.physics.add.collider(this.platforms,this.virus),this.physics.add.collider(this.platforms,this.virus),this.physics.add.overlap(this.player,this.virus,this.handleCollectVirus,void 0,this);this.virusCollectedText=this.add.text(240,10,"Coronavirus: 0",{color:"#000",fontSize:24}).setScrollFactor(0).setOrigin(.5,0),this.add.image(100,600,"leftButton").setScrollFactor(1,0).setInteractive().on("pointerdown",()=>this.leftclick()).on("pointerup",()=>this.clickUp()),this.add.image(380,600,"rightButton").setScrollFactor(1,0).setInteractive().on("pointerdown",()=>this.rightclick()).on("pointerup",()=>this.clickUp())}update(){this.platforms.children.iterate(t=>{const e=t,{scrollY:s}=this.cameras.main;e.y>=s+700&&(e.y=s-i.Math.Between(50,100),e.body.updateFromGameObject(),this.virusDisplay+=1,this.virusDisplay%3==0&&this.addVirusAbove(e))});const t=this.player.body.touching.down;t&&(this.player.setVelocityY(-300),this.player.setTexture("bot-jump"),this.sound.play("jump")),this.player.body.velocity.y>0&&"bot-stand"!==this.player.texture.key&&this.player.setTexture("bot-stand"),!this.cursors.left.isDown&&1!==this.left||t?!this.cursors.right.isDown&&1!==this.right||t?this.player.setVelocityX(0):this.player.setVelocityX(200):this.player.setVelocityX(-200),this.horizontalWrap(this.player);const e=this.findBottomMostPlatform();this.player.y>e.y+200&&(window.score=this.virusCollected,this.scene.start("game-over"))}horizontalWrap(t){const e=.5*t.displayWidth,s=this.scale.width;t.x<-e?t.x=s+e:t.x>s+e&&(t.x=-e)}handleCollectVirus(t,e){this.virus.killAndHide(e),this.physics.world.disableBody(e.body),this.virusCollected+=1;const s="Coronavirus: "+this.virusCollected;this.virusCollectedText.text=s}addVirusAbove(t){const e=t.y-t.displayHeight,s=this.virus.get(t.x,e,"virus");return s.setActive(!0),s.setVisible(!0),this.add.existing(s),s.body.setSize(s.width,s.height),this.physics.world.enable(s),s}findBottomMostPlatform(){const t=this.platforms.getChildren();let e=t[0];for(let s=1;s<t.length;s+=1){const i=t[s];i.y<e.y||(e=i)}return e}leftclick(){this.left=1,this.right=0}rightclick(){this.left=0,this.right=1}clickUp(){this.left=0,this.right=0}}class a extends i.Scene{constructor(){super("start")}preload(){this.load.image("background-menu","assets/welcome-screen.png"),this.load.image("start-button","assets/yellow_button00.png"),this.load.image("instructions-button","assets/green_button00.png"),this.load.image("score-button","assets/blue_button00.png")}create(){this.add.image(240,320,"background-menu"),this.add.image(240,500,"start-button").setInteractive().on("pointerdown",()=>this.startGame()),this.add.image(240,550,"instructions-button"),this.add.image(240,600,"score-button"),this.add.text(240,500,"Start",{fontSize:38,color:"rgb(0,0,0)"}).setOrigin(.5),this.add.text(240,550,"How to play",{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5),this.add.text(240,600,"Scores",{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5),this.input.keyboard.once("keydown_SPACE",()=>{this.scene.start("game")})}startGame(){this.scene.start("game")}}class l extends i.Scene{constructor(){super("game-over")}create(){this.add.image(240,320,"background"),this.add.image(240,320,"block").setScale(1),this.add.text(240,100,"Game Over",{fontSize:48,color:"rgb(0,0,0)"}).setOrigin(.5),this.add.text(240,150,"You Collected:",{fontSize:33,color:"rgb(0,0,0)"}).setOrigin(.5),this.add.text(240,190,window.score+" Coronavirus",{fontSize:33,color:"rgb(0,0,0)"}).setOrigin(.5),this.add.text(240,240,"Type your name",{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5);let t=document.createElement("input");t.type="text",t.id="nameField",document.getElementById("gameCont").appendChild(t),this.add.image(240,550,"start-button").setInteractive().on("pointerdown",()=>this.startGame()),this.add.text(240,550,"Play Again",{fontSize:28,color:"rgb(0,0,0)"}).setOrigin(.5),null!==localStorage.getItem("record")?(this.record=JSON.parse(localStorage.getItem("record")),parseInt(this.record)<window.score?(this.add.text(240,440,"You Have",{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5),this.add.text(240,480,"New High Score!!!",{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5),localStorage.setItem("record",JSON.stringify(window.score))):(this.add.text(240,440,"Try Again",{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5),this.add.text(240,480,"Your High Score is: "+this.record,{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5))):(this.add.text(240,440,"You Have",{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5),this.add.text(240,480,"New High Score!!!",{fontSize:25,color:"rgb(0,0,0)"}).setOrigin(.5),localStorage.setItem("record",JSON.stringify(window.score))),this.input.keyboard.once("keydown_SPACE",()=>{this.startGame()})}startGame(){document.getElementById("nameField").remove(),this.scene.start("game")}}e.default=new i.Game({type:i.AUTO,width:480,height:640,scene:[a,o,l],parent:"gameCont",physics:{default:"arcade",arcade:{gravity:{y:160},debug:!1}}})}]);